var RevealNotes=function(){function t(e){function n(e){var t,n=Reveal.getCurrentSlide(),a=n.querySelector("aside.notes"),o=n.querySelector(".current-fragment"),r={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:Reveal.getState()};n.hasAttribute("data-notes")&&(r.notes=n.getAttribute("data-notes"),r.whitespace="pre-wrap"),o&&((t=o.querySelector("aside.notes"))?a=t:o.hasAttribute("data-notes")&&(r.notes=o.getAttribute("data-notes"),r.whitespace="pre-wrap",a=null)),a&&(r.notes=a.innerHTML,r.markdown="string"==typeof a.getAttribute("data-markdown")),s.postMessage(JSON.stringify(r),"*")}e=e||document.querySelector('script[src$="notes.js"]').src.replace(/notes\.js(\?.*)?$/,"")+"notes.html";var a,s=window.open(e,"reveal.js - Notes","width=1100,height=700");s.Reveal=this.Reveal,a=setInterval(function(){s.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")},500),window.addEventListener("message",function(e){var t=JSON.parse(e.data);t&&"reveal-notes"===t.namespace&&"connected"===t.type&&(clearInterval(a),Reveal.addEventListener("slidechanged",n),Reveal.addEventListener("fragmentshown",n),Reveal.addEventListener("fragmenthidden",n),Reveal.addEventListener("overviewhidden",n),Reveal.addEventListener("overviewshown",n),Reveal.addEventListener("paused",n),Reveal.addEventListener("resumed",n),n())})}return/receiver/i.test(window.location.search)||(null!==window.location.search.match(/(\?|\&)notes/gi)&&t(),document.addEventListener("keydown",function(e){null!==document.querySelector(":focus")||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||!1!==Reveal.getConfig().keyboard&&83===e.keyCode&&(e.preventDefault(),t())},!1),window.Reveal&&Reveal.registerKeyboardShortcut("S","Speaker notes view")),{open:t}}();